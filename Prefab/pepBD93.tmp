[gd_scene load_steps=9 format=3 uid="uid://c8ayyj7wew3j2"]

[ext_resource type="PackedScene" uid="uid://cgmfgn7omx6x7" path="res://Models/pepper.glb" id="1_7py1n"]
[ext_resource type="Script" path="res://Src/iso_follow.gd" id="1_crum0"]
[ext_resource type="Script" path="res://Src/pepper.gd" id="2_7c7ou"]
[ext_resource type="Script" path="res://Src/State/state_machine.gd" id="4_jtwib"]
[ext_resource type="Script" path="res://Src/State/Player/idle.gd" id="5_hnr86"]
[ext_resource type="Script" path="res://Src/State/Player/run.gd" id="6_4ir4y"]
[ext_resource type="Script" path="res://Src/State/Player/air.gd" id="7_d4pmg"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_g7lo2"]
radius = 0.178845
height = 0.605305

[node name="Pepper" type="Node3D"]

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("pointToFollow")]
transform = Transform3D(-0.707107, 0.353553, -0.612372, 0, 0.866025, 0.5, 0.707107, 0.353553, -0.612372, -0.932442, 1.76134, -0.932442)
projection = 1
size = 3.0
script = ExtResource("1_crum0")
pointToFollow = NodePath("../PepperCharacter/LookAtTarget")

[node name="PepperCharacter" type="CharacterBody3D" parent="." node_paths=PackedStringArray("camera")]
script = ExtResource("2_7c7ou")
camera = NodePath("../Camera3D")
gravity = 10.0

[node name="PepperModel" parent="PepperCharacter" instance=ExtResource("1_7py1n")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="PepperCharacter"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0.177947, 0)
shape = SubResource("CapsuleShape3D_g7lo2")

[node name="LookAtTarget" type="Node3D" parent="PepperCharacter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.320783, 0.682144)

[node name="StateMachine" type="Node" parent="PepperCharacter" node_paths=PackedStringArray("subject", "state")]
script = ExtResource("4_jtwib")
subject = NodePath("..")
state = NodePath("Idle")

[node name="Idle" type="Node" parent="PepperCharacter/StateMachine"]
script = ExtResource("5_hnr86")

[node name="Run" type="Node" parent="PepperCharacter/StateMachine"]
script = ExtResource("6_4ir4y")

[node name="Air" type="Node" parent="PepperCharacter/StateMachine"]
script = ExtResource("7_d4pmg")
